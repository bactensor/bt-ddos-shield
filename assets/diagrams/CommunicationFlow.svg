<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="551px" preserveAspectRatio="none" style="width:920px;height:551px;" version="1.1" viewBox="0 0 920 551" width="920px" zoomAndPan="magnify"><defs><filter height="300%" id="fnbmyub97f9g4" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="47" x2="47" y1="68.0679" y2="475.8341"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="378" x2="378" y1="68.0679" y2="475.8341"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="702" x2="702" y1="68.0679" y2="475.8341"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="808" x2="808" y1="68.0679" y2="475.8341"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="880" x2="880" y1="68.0679" y2="475.8341"/><rect fill="#FEFECE" filter="url(#fnbmyub97f9g4)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="74" x="8" y="30"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="15" y="51.9659">Validator</text><rect fill="#FEFECE" filter="url(#fnbmyub97f9g4)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="74" x="8" y="474.8341"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="15" y="496.8">Validator</text><rect fill="#FEFECE" filter="url(#fnbmyub97f9g4)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="349" y="30"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="356" y="51.9659">Miner</text><rect fill="#FEFECE" filter="url(#fnbmyub97f9g4)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="349" y="474.8341"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="356" y="496.8">Miner</text><rect fill="#FEFECE" filter="url(#fnbmyub97f9g4)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="130" x="635" y="30"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="642" y="51.9659">AddressManager</text><rect fill="#FEFECE" filter="url(#fnbmyub97f9g4)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="130" x="635" y="474.8341"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="642" y="496.8">AddressManager</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="779" y="63.9659">Storage</text><path d="M790,13 C790,3 808,3 808,3 C808,3 826,3 826,13 L826,39 C826,49 808,49 808,49 C808,49 790,49 790,39 L790,13 " fill="#FEFECE" filter="url(#fnbmyub97f9g4)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M790,13 C790,23 808,23 808,23 C808,23 826,23 826,13 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="779" y="489.8">Storage</text><path d="M790,503.902 C790,493.902 808,493.902 808,493.902 C808,493.902 826,493.902 826,503.902 L826,529.902 C826,539.902 808,539.902 808,539.902 C808,539.902 790,539.902 790,529.902 L790,503.902 " fill="#FEFECE" filter="url(#fnbmyub97f9g4)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M790,503.902 C790,513.902 808,513.902 808,513.902 C808,513.902 826,513.902 826,503.902 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="847" y="63.9659">Bittensor</text><path d="M862.5,13 C862.5,3 880.5,3 880.5,3 C880.5,3 898.5,3 898.5,13 L898.5,39 C898.5,49 880.5,49 880.5,49 C880.5,49 862.5,49 862.5,39 L862.5,13 " fill="#FEFECE" filter="url(#fnbmyub97f9g4)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M862.5,13 C862.5,23 880.5,23 880.5,23 C880.5,23 898.5,23 898.5,13 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="847" y="489.8">Bittensor</text><path d="M862.5,503.902 C862.5,493.902 880.5,493.902 880.5,493.902 C880.5,493.902 898.5,493.902 898.5,503.902 L898.5,529.902 C898.5,539.902 880.5,539.902 880.5,539.902 C880.5,539.902 862.5,539.902 862.5,529.902 L862.5,503.902 " fill="#FEFECE" filter="url(#fnbmyub97f9g4)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M862.5,503.902 C862.5,513.902 880.5,513.902 880.5,513.902 C880.5,513.902 898.5,513.902 898.5,503.902 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="47" x2="89" y1="101.7739" y2="101.7739"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89" x2="89" y1="101.7739" y2="114.7739"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="48" x2="89" y1="114.7739" y2="114.7739"/><polygon fill="#A80036" points="58,110.7739,48,114.7739,58,118.7739,54,114.7739" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="163" x="54" y="95.9649">Generate Validator key-pair</text><polygon fill="#A80036" points="868.5,142.4799,878.5,146.4799,868.5,150.4799,872.5,146.4799" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="47" x2="874.5" y1="146.4799" y2="146.4799"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="54" y="140.6709">Publish public key along with HotKey</text><polygon fill="#A80036" points="389,174.186,379,178.186,389,182.186,385,178.186" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="383" x2="879.5" y1="178.186" y2="178.186"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="395" y="172.377">Fetch new Validator info</text><polygon fill="#A80036" points="690,205.892,700,209.892,690,213.892,694,209.892" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="378" x2="696" y1="209.892" y2="209.892"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="385" y="204.083">Generate new address</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="378" x2="420" y1="241.598" y2="241.598"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="420" x2="420" y1="241.598" y2="254.598"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="379" x2="420" y1="254.598" y2="254.598"/><polygon fill="#A80036" points="389,250.598,379,254.598,389,258.598,385,254.598" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="310" x="385" y="235.789">Encrypt generated address with Validator public key</text><polygon fill="#A80036" points="796,282.304,806,286.304,796,290.304,800,286.304" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="378" x2="802" y1="286.304" y2="286.304"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="304" x="385" y="280.495">Update file with encrypted addresses for Validators</text><polygon fill="#A80036" points="868.5,314.01,878.5,318.01,868.5,322.01,872.5,318.01" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="378" x2="874.5" y1="318.01" y2="318.01"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="385" y="312.201">Publish file location</text><polygon fill="#A80036" points="58,345.716,48,349.716,58,353.716,54,349.716" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="52" x2="879.5" y1="349.716" y2="349.716"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="64" y="343.907">Fetch file location</text><polygon fill="#A80036" points="58,377.4221,48,381.4221,58,385.4221,54,381.4221" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="52" x2="807" y1="381.4221" y2="381.4221"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="64" y="375.6131">Fetch Miner file</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="47" x2="89" y1="413.1281" y2="413.1281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89" x2="89" y1="413.1281" y2="426.1281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="48" x2="89" y1="426.1281" y2="426.1281"/><polygon fill="#A80036" points="58,422.1281,48,426.1281,58,430.1281,54,426.1281" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="317" x="54" y="407.3191">Decrypt Miner file entry encrypted for given Validator</text><polygon fill="#A80036" points="366,453.8341,376,457.8341,366,461.8341,370,457.8341" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="47" x2="372" y1="457.8341" y2="457.8341"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="267" x="54" y="452.0251">Send request using decrypted Miner address</text><!--MD5=[a42300d3263cac5919873b98c8c99d11]
@startuml ./assets/diagrams/CommunicationFlow
participant Validator
participant Miner
participant AddressManager
database Storage
database Bittensor
Validator -> Validator: Generate Validator key-pair
Validator -> Bittensor: Publish public key along with HotKey
Bittensor -> Miner: Fetch new Validator info
Miner -> AddressManager: Generate new address
Miner -> Miner: Encrypt generated address with Validator public key
Miner -> Storage: Update file with encrypted addresses for Validators
Miner -> Bittensor: Publish file location
Bittensor -> Validator: Fetch file location
Storage -> Validator: Fetch Miner file
Validator -> Validator: Decrypt Miner file entry encrypted for given Validator
Validator -> Miner: Send request using decrypted Miner address
@enduml

PlantUML version 1.2020.02(Sun Mar 01 11:22:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.24+8-post-Ubuntu-1ubuntu322.04
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>